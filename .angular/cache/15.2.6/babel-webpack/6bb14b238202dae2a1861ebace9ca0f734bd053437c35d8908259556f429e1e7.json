{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/forgotten-svc/forgotten.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ForgottenComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ForgottenComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.success, \" \");\n  }\n}\nexport class ForgottenComponent {\n  constructor(forgottenService, router) {\n    this.forgottenService = forgottenService;\n    this.router = router;\n    this.email = \"\";\n    this.error = \"\";\n    this.success = \"\";\n  }\n  onSubmit() {\n    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    if (!emailRegex.test(this.email)) {\n      this.error = \"Please enter a valid email address\";\n      return;\n    }\n    this.forgottenService.forgotPassword(this.email).subscribe({\n      next: res => {\n        console.log(res);\n        this.success = \"If the email is registered, you will receive reset instructions.\";\n        // Optionally navigate to another route\n        // this.router.navigate(['/login']);\n      },\n\n      error: err => {\n        console.error(err);\n        this.error = \" processing your request \";\n      }\n    });\n  }\n}\nForgottenComponent.ɵfac = function ForgottenComponent_Factory(t) {\n  return new (t || ForgottenComponent)(i0.ɵɵdirectiveInject(i1.ForgottenService), i0.ɵɵdirectiveInject(i2.Router));\n};\nForgottenComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ForgottenComponent,\n  selectors: [[\"app-forgotten\"]],\n  decls: 13,\n  vars: 3,\n  consts: [[3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"mb-4\", \"pb-3\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"form-group\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Your Email\", 1, \"form-style\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-icon\", \"uil\", \"uil-at\"], [\"type\", \"submit\", 1, \"btn\", \"mt-4\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"]],\n  template: function ForgottenComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \" forgotten password \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function ForgottenComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"h4\", 2);\n      i0.ɵɵtext(5, \"Reset Your Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, ForgottenComponent_div_6_Template, 2, 1, \"div\", 3);\n      i0.ɵɵtemplate(7, ForgottenComponent_div_7_Template, 2, 1, \"div\", 4);\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ForgottenComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 8);\n      i0.ɵɵtext(12, \"Submit\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.error != \"\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.success != \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAIQA,8BAA+D;IAC3DA,YACJ;IAAAA,iBAAM;;;;IADFA,eACJ;IADIA,6CACJ;;;;;IACAA,+BAAkE;IAC9DA,YACJ;IAAAA,iBAAM;;;;IADFA,eACJ;IADIA,+CACJ;;;ACAR,OAAM,MAAOC,kBAAkB;EAK7BC,YAAoBC,gBAAkC,EAAUC,MAAc;IAA1D,qBAAgB,GAAhBD,gBAAgB;IAA4B,WAAM,GAANC,MAAM;IAJtE,UAAK,GAAW,EAAE;IAClB,UAAK,GAAG,EAAE;IACV,YAAO,GAAG,EAAE;EAEqE;EAEjFC,QAAQ;IACN,MAAMC,UAAU,GAAG,iDAAiD;IACpE,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAACC,KAAK,CAAC,EAAE;MAChC,IAAI,CAACC,KAAK,GAAG,oCAAoC;MACjD;;IAGF,IAAI,CAACN,gBAAgB,CAACO,cAAc,CAAC,IAAI,CAACF,KAAK,CAAC,CAACG,SAAS,CAAC;MACzDC,IAAI,EAAGC,GAAG,IAAI;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAI,CAACG,OAAO,GAAG,kEAAkE;QACjF;QACA;MACF,CAAC;;MACDP,KAAK,EAAGQ,GAAG,IAAI;QACbH,OAAO,CAACL,KAAK,CAACQ,GAAG,CAAC;QAClB,IAAI,CAACR,KAAK,GAAG,2BAA2B;MAC1C;KACD,CAAC;EACJ;;AA1BWR,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/BtB,0BAAI;MAACA,oCAAmB;MAAAA,iBAAK;MAEzBA,kCAAkD;MAA5CA;QAAA,OAAYuB,cAAU;MAAA,EAAC;MACzBvB,6BAAsB;MAAAA,mCAAmB;MAAAA,iBAAK;MAC9CA,mEAEM;MACNA,mEAEM;MAENA,8BAAwB;MAC2CA;QAAA;MAAA,EAAmB;MAAlFA,iBAA4G;MAC5GA,wBAAqC;MACzCA,iBAAM;MAENA,kCAAuC;MAAAA,uBAAM;MAAAA,iBAAS;;;MAZRA,eAAe;MAAfA,sCAAe;MAGdA,eAAiB;MAAjBA,wCAAiB;MAKGA,eAAmB;MAAnBA,mCAAmB","names":["i0","ForgottenComponent","constructor","forgottenService","router","onSubmit","emailRegex","test","email","error","forgotPassword","subscribe","next","res","console","log","success","err","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\projects\\pi\\connectingMinds\\angular-front-user\\src\\app\\components\\forgotten\\forgotten.component.html","D:\\projects\\pi\\connectingMinds\\angular-front-user\\src\\app\\components\\forgotten\\forgotten.component.ts"],"sourcesContent":["<h1> forgotten password </h1>\n\n    <form (ngSubmit)=\"onSubmit()\" #loginForm=\"ngForm\">\n        <h4 class=\"mb-4 pb-3\">Reset Your Password</h4>\n        <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"error!=''\">\n            {{error}}\n        </div>\t\t\t\t\t\t\t\t\t\t\t\n        <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"success!=''\">\n            {{success}}\n        </div>\t\t\t\t\t\t\t\t\t\t\t\n\n        <div class=\"form-group\">\n            <input type=\"email\" class=\"form-style\" id=\"email\" name=\"email\" [(ngModel)]=\"email\" placeholder=\"Your Email\">\n            <i class=\"input-icon uil uil-at\"></i>\n        </div>\t\n\n        <button type=\"submit\" class=\"btn mt-4\">Submit</button>\n    </form>\n\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ForgottenService } from '../../service/forgotten-svc/forgotten.service'; \n\n@Component({\n  selector: 'app-forgotten',\n  templateUrl: './forgotten.component.html',\n  styleUrls: ['./forgotten.component.css']\n})\nexport class ForgottenComponent {\n  email: string = \"\";\n  error = \"\";\n  success = \"\";\n\n  constructor(private forgottenService: ForgottenService, private router: Router) {}\n\n  onSubmit(): void {\n    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    if (!emailRegex.test(this.email)) {\n      this.error = \"Please enter a valid email address\";\n      return;\n    }\n\n    this.forgottenService.forgotPassword(this.email).subscribe({\n      next: (res) => {\n        console.log(res);\n        this.success = \"If the email is registered, you will receive reset instructions.\";\n        // Optionally navigate to another route\n        // this.router.navigate(['/login']);\n      },\n      error: (err) => {\n        console.error(err);\n        this.error = \" processing your request \";\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}